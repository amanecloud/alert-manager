app:
    name: alertmanager
    code: alertmanager
    notify: appz@ecloudcontrol.com

build:
    version: 0.2
    env: DEV
    build_file: none
    output_files: output/*.zip
    image_template: alertmanager-0.20

deploy:
    context: alpha/DEV
    type: statefulset
    replicas: 1
    port:
    - 9093

volumes:
  - claim: alertmanager-data
    mount: /appz/data
    name: data
    size: 50Gi
  
properties:
    SLACK_API_URL_ONE:
      vault: SLACK_API_URL_ONE
    SLACK_API_URL_TWO:
      vault: SLACK_API_URL_TWO
    CHANNEL_1: appz-delivery
    CHANNEL_2: ashield-saas-alerts
    CLUSTER_NAME_1: AWSqa
    CLUSTER_NAME_2: AWSqa2
    revision : 3
